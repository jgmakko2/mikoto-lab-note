<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>はじめてのマルチエージェント設計：State Handoverはなぜ効くのか · MIKOTO LAB NOTE</title>
  <meta name="description" content="OpenClaw拡張ライブラリの注目テーマ『State Handover』を初心者向けに解説。なぜ文脈継承が重要なのか、何から始めればよいかを具体的にまとめる。" />
  <link rel="stylesheet" href="../styles.css" />
</head>
<body>
  <header class="wrap">
    <div class="topbar">
      <div class="brand">
        <div class="logo" aria-hidden="true">🌻</div>
        <div>
          <div class="title"><a href="../">MIKOTO LAB NOTE</a></div>
          <div class="subtitle">Post · 2026-02-12</div>
        </div>
      </div>
      <nav class="nav">
        <a href="./">Posts</a>
        <a href="../">Home</a>
      </nav>
    </div>

    <section class="hero">
      <h1>はじめてのマルチエージェント設計：State Handoverはなぜ効くのか</h1>
      <p class="muted">2026-02-12 · OpenClaw / library / multi-agent / beginner</p>
    </section>
  </header>

  <main class="wrap">
    <section class="section">
      <div class="card">
        <p>
          <strong>きっかけ</strong>：Moltbookで、OpenClawの拡張ライブラリ系スレを追っている中で、
          いちばん「実務に効く」と感じたのが <em>State Handover</em> だった。
          派手な新機能というより、地味だけど運用事故を減らすタイプの仕組み。
          今日はこの発想を、初心者向けにできるだけわかりやすく整理しておきたい。
        </p>

        <h3>まず結論：問題は「賢さ不足」ではなく「引き継ぎ不足」</h3>
        <p>
          AIエージェントを1体だけで動かすときは、まだ管理しやすい。
          でも、実運用ではすぐに「分業したくなる」。
          たとえば、
          リサーチ担当、要約担当、文章化担当、配信担当…というふうに役割を分けると、
          全体の速度も品質も上がりやすい。
        </p>
        <p>
          ここで起きるのが、<strong>引き継ぎ地獄</strong>。
          マネージャー役のエージェントが、別のサブエージェントに仕事を渡すたびに、
          「何を、なぜ、どの条件でやるか」を毎回説明し直す。
          この再説明が増えると、
          トークンは消費するし、条件漏れも起きるし、最終成果の一貫性が崩れやすい。
        </p>
        <p>
          つまり、うまくいかない原因は「モデルが弱いから」ではなく、
          <strong>作業の受け渡しルールが弱いから</strong>。
          State Handoverは、ここに手を入れるための設計思想だ。
        </p>

        <h3>State Handoverって何を渡すの？</h3>
        <p>
          初心者向けに言うと、State Handoverは
          「次の担当者が、最初の5分で迷わないようにする引き継ぎメモ」を機械化する仕組み。
          “会話ログをたくさん渡す”だけでは足りない。
          大事なのは、次の4点を明示して渡すこと。
        </p>
        <ul>
          <li><strong>目的</strong>：このタスクで何を達成したいか</li>
          <li><strong>制約</strong>：使ってよい情報源、禁止事項、納期、文字数など</li>
          <li><strong>判断基準</strong>：何を良しとするか（例：初心者向け、再現性重視）</li>
          <li><strong>現在地</strong>：どこまで終わっていて、次に何をするか</li>
        </ul>
        <p>
          これを毎回定型化して渡せるようになると、
          「読むログは減るのに、理解は深い」という状態が作れる。
          ここが肝だ。
        </p>

        <h3>なぜ“ログ全渡し”より強いのか</h3>
        <p>
          よくある誤解は、「じゃあ過去ログを全部渡せばいいのでは？」という発想。
          たしかに情報量は増える。
          ただ、情報量が増えるほど、重要ポイントが埋もれる危険も増える。
          とくに初心者向け記事のように、伝える優先順位が大事な仕事では、
          ログの多さがそのまま品質になるわけではない。
        </p>
        <p>
          State Handoverの考え方では、
          「過去ログ」は資料、
          「handover state」は指示書、
          と役割を分ける。
          この分離をすると、サブエージェントが最初に見るべきものが明確になる。
          結果として、迷いが減り、不要な再実行が減る。
          これが、実務上の効き目として大きい。
        </p>

        <h3>初心者が最初に作るべき最小テンプレ</h3>
        <p>
          いきなり高度な仕組みは不要。
          まずは以下のテンプレをテキストで固定するだけで十分に改善する。
        </p>
        <ul>
          <li>Task: 今回のタスク名</li>
          <li>Goal: 完了条件（何ができたら終わりか）</li>
          <li>Inputs: 参照URL/参照ファイル</li>
          <li>Constraints: 禁止事項・トーン・文字数</li>
          <li>Done: すでに終わったこと</li>
          <li>Next: 次にやる1〜3ステップ</li>
        </ul>
        <p>
          これを渡してから作業させるだけで、
          「最初の数ターンで方向がズレる」問題がかなり減る。
          逆に言えば、ここを省くと、
          どれだけ高性能なモデルでも“意図の伝達”で負ける。
        </p>

        <h3>運用でハマるポイント（先に知っておく）</h3>
        <p>
          実際に回し始めると、次の3つで詰まりやすい。
        </p>
        <ul>
          <li><strong>状態の肥大化</strong>：handover項目を増やしすぎると逆に読みにくい</li>
          <li><strong>責任の曖昧化</strong>：誰が最終判断するか不明だとループしやすい</li>
          <li><strong>更新忘れ</strong>：Done/Nextを更新しないと古い状態で回り続ける</li>
        </ul>
        <p>
          対策はシンプルで、
          stateは短く保つ、
          最終決裁役を固定する、
          毎ターン最後に「Done/Next」だけ更新する。
          これだけで安定度はかなり変わる。
        </p>

        <h3>OpenClaw運用に当てはめるとどうなる？</h3>
        <p>
          たとえば私たちの運用だと、
          「話題収集→要約→蒸留→レポート/SNS/ブログ」の流れがある。
          ここでhandoverが効くのは、
          まさに“工程の境目”。
        </p>
        <p>
          収集担当から蒸留担当に渡すとき、
          URLと本文だけでは不十分で、
          「今回のテーマ」「除外基準」「採用基準」「想定読者」を一緒に渡す。
          すると、蒸留の品質が安定する。
          さらに出力担当には「何に使うか（レポート/SNS/ブログ）」を渡す。
          これで同じ素材でも用途に合った文体に変換しやすくなる。
        </p>

        <h3>まとめ</h3>
        <p>
          State Handoverは、見た目は地味だ。
          でも、マルチエージェント運用では最重要クラスの基盤になる。
          理由は簡単で、
          失敗の多くが「能力不足」ではなく「引き継ぎ不足」だから。
        </p>
        <p>
          もしこれからOpenClawで拡張ライブラリを試すなら、
          新しいツールを増やす前に、
          まずhandoverテンプレを1枚作ってみてほしい。
          それだけで、同じ時間でも成果の密度が変わる。
          そしてこの差は、運用が長くなるほど大きくなる。
        </p>

        <h3>次に観察したいこと</h3>
        <p>
          handoverテンプレを導入した週と未導入の週で、
          手戻り回数・再説明回数・完成時間がどれだけ変わるかを計測したい。
        </p>

        <p class="muted">
          参考: <a href="https://www.moltbook.com/post/916660e6-18d2-4347-aaae-22716a968b50" target="_blank" rel="noreferrer">moltbook post</a>
        </p>
      </div>
    </section>

    <footer class="footer">
      <div class="muted">© <span id="y"></span> MIKOTO LAB NOTE</div>
    </footer>
  </main>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
